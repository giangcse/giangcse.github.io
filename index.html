<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Phan Thanh Giảng</title>
    <!-- Include Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Include Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Custom styles for fade-in animation */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            /* Optional: slight move up effect */
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .fade-in.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Add delays for staggered effect */
        .delay-100 {
            transition-delay: 0.1s;
        }

        .delay-200 {
            transition-delay: 0.2s;
        }

        .delay-300 {
            transition-delay: 0.3s;
        }

        .delay-400 {
            transition-delay: 0.4s;
        }

        .delay-500 {
            transition-delay: 0.5s;
        }

        /* Ensure icons have consistent width for alignment */
        .fa-fw {
            width: 1.25em;
            /* Adjust if needed based on icon size */
        }
    </style>
</head>

<body class="bg-gradient-to-br from-blue-50 via-white to-indigo-50 text-gray-800 font-sans">

    <div class="container mx-auto px-4 py-12">

        <!-- Hero Section -->
        <header class="text-center mb-16 fade-in">
            <img src="asset/avatar.png"  alt="Avatar của Phan Thanh Giảng" class="w-32 h-32 rounded-full object-cover mx-auto mb-4 shadow-lg border-2 border-white">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2" id="fullName"></h1>
            <p class="text-xl md:text-2xl text-indigo-600 font-medium" id="jobTitle"></p>
        </header>

        <!-- About Section - Enhanced -->
        <section class="mb-12 fade-in delay-100">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 border border-gray-200">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-3 border-indigo-200 flex items-center">
                    <i class="fas fa-user-circle text-indigo-500 mr-3 text-2xl"></i> <!-- User Icon -->
                    Thông tin cá nhân
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 text-gray-700">
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-id-card fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Họ và tên:</strong>
                            <span id="vietnameseName"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-cake-candles fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Tuổi:</strong>
                            <span id="age"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-venus-mars fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Giới tính:</strong>
                            <span id="sex"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-map-marker-alt fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Quê quán:</strong>
                            <span id="homeTown"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i class="fas fa-flag fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Quốc tịch:</strong>
                            <span id="nationality"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-laptop-code fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Chuyên ngành:</strong>
                            <span id="major"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-graduation-cap fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Trường:</strong>
                            <span id="university"></span>
                        </div>
                    </div>
                    <div class="flex items-start p-3 rounded-lg hover:bg-indigo-50 transition duration-200 group">
                        <i
                            class="fas fa-briefcase fa-fw text-indigo-400 group-hover:text-indigo-600 mr-3 mt-1 text-lg"></i>
                        <div>
                            <strong class="font-medium text-gray-900 block">Nơi làm việc:</strong>
                            <span id="workAt"></span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section class="mb-12 fade-in delay-200">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 border border-gray-200">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-3 border-green-200 flex items-center">
                    <i class="fas fa-cogs text-green-500 mr-3 text-xl"></i> <!-- Skills Icon -->
                    Kỹ năng & Công nghệ
                </h2>
                <div class="mb-6">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Lĩnh vực chính:</h3>
                    <div class="flex flex-wrap gap-3" id="skillsList">
                    </div>
                </div>
                <div class="mb-6">
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Ngôn ngữ lập trình:</h3>
                    <div class="flex flex-wrap gap-3" id="languagesList">
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-medium text-gray-700 mb-3">Cơ sở dữ liệu:</h3>
                    <div class="flex flex-wrap gap-3" id="databasesList">
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section - Using GitHub REST API (No Auth) -->
        <section class="mb-12 fade-in delay-300">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 border border-gray-200">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 border-b pb-3 border-purple-200 flex items-center">
                    <i class="fab fa-github text-purple-500 mr-3 text-xl"></i> <!-- GitHub Icon -->
                    Dự án Công khai Nổi bật
                </h2>
                <div id="projectsList" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <p id="loadingProjects" class="text-gray-500 md:col-span-2">
                        <i class="fas fa-spinner fa-spin mr-2"></i>Đang tải dự án từ GitHub...
                    </p>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="text-center fade-in delay-400">
            <div class="bg-white rounded-lg shadow-xl p-6 md:p-8 border border-gray-200">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6 flex items-center justify-center">
                    <i class="fas fa-envelope-open-text text-red-500 mr-3 text-xl"></i> <!-- Contact Icon -->
                    Liên hệ
                </h2>
                <div class="flex justify-center items-center gap-6 mb-4">
                    <a id="emailLink" href="#"
                        class="text-gray-600 hover:text-indigo-600 transition duration-300 text-lg flex items-center p-2 rounded hover:bg-gray-100">
                        <i class="fas fa-envelope mr-2"></i> <span id="emailAddress"></span>
                    </a>
                </div>
                <div class="flex justify-center gap-6 mt-4" id="socialLinksContainer">
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center mt-16 text-gray-500 text-sm fade-in delay-500">
            © <span id="currentYear"></span> Phan Thanh Giảng. All rights reserved.
        </footer>

    </div>

    <script>
        // --- Dữ liệu Portfolio tĩnh ---
        const portfolioData = {
            "firstName": "Giang",
            "lastName": "Phan",
            "vietnameseFullName": "Phan Thanh Giảng",
            "dayOfBirdth": "1997-08-28",
            "sex": "male",
            "email": "giangpt@duck.com",
            "homeTown": "Vĩnh Long",
            "nationality": "Việt Nam",
            "major": "Khoa học máy tính",
            "university": "Đại học Cần Thơ (CTU)",
            "job": "Developer",
            "workAt": "VNPT Vĩnh Long",
            "socialLinks": {
                "facebook": "https://www.facebook.com/giangpt2808",
                "telegram": "https://t.me/giangisnotdev",
                "twitter": "https://www.twitter.com/giangpt2808"
            },
            "skills": [
                "Backend developer",
                "AI Application",
                "Operation"
            ],
            "programingLanguages": [
                "Python",
                "PHP",
                "JavaScript"
            ],
            "databases": [
                "SQL Server",
                "MongoDB"
            ],
             // "projects" array is no longer used to display projects,
             // but can be kept if needed for other purposes.
             "projects": []
        };

        // --- Hàm tiện ích ---
        // Function to calculate age
        function calculateAge(birthDateString) {
            const birthDate = new Date(birthDateString);
            const today = new Date();
            let age = today.getFullYear() - birthDate.getFullYear();
            const m = today.getMonth() - birthDate.getMonth();
            if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
                age--;
            }
            return age;
        }

        // --- GitHub Public Repositories (REST API v3 - No Auth) ---
        const GITHUB_USERNAME = "giangcse"; // <<<==== THAY THẾ BẰNG USERNAME GITHUB CỦA BẠN

        // Hàm lấy và hiển thị các public repo, sắp xếp theo số sao
        async function fetchPublicRepos() {
            const projectsList = document.getElementById('projectsList');
            const loadingIndicator = document.getElementById('loadingProjects');
            const numberOfReposToShow = 6; // Số lượng repo muốn hiển thị

            if (!GITHUB_USERNAME || GITHUB_USERNAME === "TEN_GITHUB_CUA_BAN") {
                if(loadingIndicator) loadingIndicator.innerHTML = `<i class="fas fa-exclamation-triangle mr-2 text-red-500"></i> Vui lòng cung cấp GitHub Username trong code JS.`;
                console.error("GitHub Username is missing!");
                return; // Dừng lại nếu thiếu Username
            }

            // Endpoint REST API v3
            const apiUrl = `https://api.github.com/users/${GITHUB_USERNAME}/repos?type=owner&sort=pushed&per_page=100`;

            try {
                const response = await fetch(apiUrl, {
                    headers: { 'Accept': 'application/vnd.github.v3+json' }
                });

                if (!response.ok) {
                    let errorMsg = `GitHub API error: ${response.status} ${response.statusText}`;
                    if (response.status === 403) {
                        errorMsg += ". Có thể bạn đã vượt quá giới hạn yêu cầu API không cần xác thực.";
                        console.warn("GitHub API Rate Limit likely exceeded.");
                    } else if (response.status === 404) {
                         errorMsg += ". Không tìm thấy user GitHub.";
                         console.warn("GitHub user not found.");
                    }
                    throw new Error(errorMsg);
                }

                const repos = await response.json();

                // Xóa trạng thái loading/error cũ (nếu tồn tại)
                if (loadingIndicator) loadingIndicator.remove();

                if (Array.isArray(repos) && repos.length > 0) {
                    // Sắp xếp theo số sao giảm dần
                    repos.sort((a, b) => b.stargazers_count - a.stargazers_count);

                    // Lấy top N repo
                    const topRepos = repos.slice(0, numberOfReposToShow);

                    if (topRepos.length === 0) {
                        projectsList.innerHTML = '<p class="text-gray-500 md:col-span-2">Không tìm thấy repository công khai nào.</p>';
                        return;
                    }

                    // Xóa nội dung cũ trong projectsList trước khi thêm mới
                    projectsList.innerHTML = '';

                    topRepos.forEach(repo => {
                        const card = document.createElement('div');
                        card.className = 'bg-gray-50 border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col justify-between';

                        let language = repo.language || 'N/A';

                        card.innerHTML = `
                            <div>
                                <a href="${repo.html_url}" target="_blank" rel="noopener noreferrer" class="block mb-2">
                                    <h3 class="text-lg font-semibold text-blue-700 hover:text-blue-900 truncate">
                                        <i class="fas fa-book-bookmark mr-2 text-gray-500"></i>${repo.name}
                                    </h3>
                                </a>
                                <p class="text-gray-600 text-sm mb-3 min-h-[40px]">
                                    ${repo.description || '<i>Không có mô tả.</i>'}
                                </p>
                            </div>
                            <div class="flex items-center justify-between text-sm text-gray-500 mt-auto pt-3 border-t border-gray-200">
                                <div class="flex items-center space-x-4">
                                    <span class="flex items-center" title="Ngôn ngữ chính">
                                        <i class="fas fa-circle fa-xs mr-1" style="color: #ccc;"></i>
                                        ${language}
                                    </span>
                                </div>
                                <div class="flex items-center space-x-4">
                                    <span class="flex items-center" title="Stars">
                                        <i class="far fa-star mr-1 text-yellow-500"></i>
                                        ${repo.stargazers_count}
                                    </span>
                                    <span class="flex items-center" title="Forks">
                                        <i class="fas fa-code-branch mr-1 text-blue-500"></i>
                                        ${repo.forks_count}
                                    </span>
                                </div>
                            </div>
                        `;
                        projectsList.appendChild(card);
                    });
                } else if (Array.isArray(repos) && repos.length === 0) {
                    projectsList.innerHTML = '<p class="text-gray-500 md:col-span-2">Người dùng này không có repository công khai nào.</p>';
                }
                 else {
                    console.error("Unexpected response format from GitHub API:", repos);
                    throw new Error("Dữ liệu trả về từ GitHub không hợp lệ.");
                }

            } catch (error) {
                console.error('Lỗi khi tải dự án GitHub (Public API):', error);
                const errorDisplay = document.getElementById('loadingProjects') || document.createElement('p');
                errorDisplay.id = 'loadingProjects';
                errorDisplay.className = 'text-red-600 md:col-span-2';
                errorDisplay.innerHTML = `<i class="fas fa-exclamation-circle mr-2"></i> Đã xảy ra lỗi khi tải dự án từ GitHub. (${error.message})`;

                // Đảm bảo errorDisplay được hiển thị
                if (!document.getElementById('loadingProjects')) {
                     projectsList.innerHTML = ''; // Xóa nội dung cũ nếu có
                     projectsList.appendChild(errorDisplay);
                } else {
                    // Nếu loadingIndicator vẫn còn, cập nhật nội dung của nó
                    loadingIndicator.className = 'text-red-600 md:col-span-2';
                    loadingIndicator.innerHTML = errorDisplay.innerHTML;
                }
            }
        }
        // --- Kết thúc phần GitHub Public Repositories ---


        // --- Chạy khi DOM đã tải xong ---
        document.addEventListener('DOMContentLoaded', function() {
            // --- Populate dữ liệu tĩnh từ portfolioData ---
            //document.getElementById('initials').textContent = portfolioData.firstName.charAt(0) + portfolioData.lastName.charAt(0);
            document.getElementById('fullName').textContent = `${portfolioData.lastName} ${portfolioData.firstName}`;
            document.getElementById('jobTitle').textContent = `${portfolioData.job} tại ${portfolioData.workAt}`;

            // Thông tin cá nhân
            document.getElementById('vietnameseName').textContent = portfolioData.vietnameseFullName;
            document.getElementById('age').textContent = calculateAge(portfolioData.dayOfBirdth);
            document.getElementById('sex').textContent = portfolioData.sex === 'male' ? 'Nam' : 'Nữ';
            document.getElementById('homeTown').textContent = portfolioData.homeTown;
            document.getElementById('nationality').textContent = portfolioData.nationality;
            document.getElementById('major').textContent = portfolioData.major;
            document.getElementById('university').textContent = portfolioData.university;
            document.getElementById('workAt').textContent = portfolioData.workAt;

            // Email
            document.getElementById('emailAddress').textContent = portfolioData.email;
            document.getElementById('emailLink').href = `mailto:${portfolioData.email}`;

            // Kỹ năng
            const skillsList = document.getElementById('skillsList');
            portfolioData.skills.forEach(skill => {
                const span = document.createElement('span');
                span.className = 'bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium shadow-sm hover:bg-blue-200 cursor-default transition';
                span.textContent = skill;
                skillsList.appendChild(span);
            });

            // Ngôn ngữ lập trình
            const languagesList = document.getElementById('languagesList');
            portfolioData.programingLanguages.forEach(lang => {
                const span = document.createElement('span');
                span.className = 'bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium shadow-sm hover:bg-green-200 cursor-default transition';
                span.textContent = lang;
                languagesList.appendChild(span);
            });

            // Cơ sở dữ liệu
            const databasesList = document.getElementById('databasesList');
            portfolioData.databases.forEach(db => {
                const span = document.createElement('span');
                span.className = 'bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium shadow-sm hover:bg-indigo-200 cursor-default transition';
                span.textContent = db;
                databasesList.appendChild(span);
            });

            // --- Lấy và hiển thị dự án từ GitHub ---
            fetchPublicRepos(); // Gọi hàm mới để lấy repo công khai

            // --- Populate Liên kết mạng xã hội ---
            const socialLinksContainer = document.getElementById('socialLinksContainer');
            const socialIconMap = {
                facebook: 'fab fa-facebook text-blue-600',
                telegram: 'fab fa-telegram text-sky-500',
                twitter: 'fab fa-twitter text-cyan-500'
            };
            // Xóa link cũ trước khi thêm mới (phòng trường hợp code chạy lại)
            socialLinksContainer.innerHTML = '';
            for (const [key, url] of Object.entries(portfolioData.socialLinks)) {
                const link = document.createElement('a');
                link.href = url;
                link.target = '_blank';
                link.rel = 'noopener noreferrer';
                link.className = 'text-gray-500 hover:text-indigo-600 transition duration-300 text-3xl transform hover:scale-110';
                link.setAttribute('aria-label', `Link đến ${key}`);

                const icon = document.createElement('i');
                const baseIconClasses = socialIconMap[key] || 'fas fa-link text-gray-500';
                icon.className = `${baseIconClasses}`;
                link.appendChild(icon);
                socialLinksContainer.appendChild(link);
            }

             // --- Cập nhật năm ở Footer ---
             document.getElementById('currentYear').textContent = new Date().getFullYear();

            // --- Kích hoạt hiệu ứng Fade-in ---
            // Dùng setTimeout nhỏ để đảm bảo trình duyệt đã render xong DOM ban đầu
            setTimeout(() => {
                const elementsToFade = document.querySelectorAll('.fade-in');
                elementsToFade.forEach(el => {
                    // Lấy giá trị delay từ class (nếu có)
                    const delay = parseInt(el.className.match(/delay-(\d+)/)?.[1] || '0');
                    // Thêm class is-visible sau khoảng delay tương ứng
                    setTimeout(() => {
                         el.classList.add('is-visible');
                    }, delay);
                });
            }, 50); // Delay tổng thể ban đầu trước khi bắt đầu các animation

        }); // Kết thúc DOMContentLoaded
    </script>

</body>

</html>